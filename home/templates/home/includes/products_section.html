<!-- templates/includes/products_section.html -->
<!-- Featured Products -->
<section class="py-16">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-3xl font-bold">Featured Products</h2>
      <a
        href="{% url 'products:product-list' %}"
        class="text-blue-600 hover:text-blue-800 font-semibold"
      >
        View All Products <i class="fas fa-arrow-right ml-1"></i>
      </a>
    </div>

    <div
      id="featured-products"
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"
    >
      {% for product in featured_products|slice:":8" %}
      <div
        class="product-card bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
      >
        <div class="relative">
          {% if product.primary_image %}
          <img
            src="{{ product.primary_image.url }}"
            alt="{{ product.name }}"
            class="w-full h-48 object-cover"
          />
          {% else %}
          <div class="w-full h-48 bg-gray-200 flex items-center justify-center">
            <i class="fas fa-image text-gray-400 text-4xl"></i>
          </div>
          {% endif %} {% if product.is_featured %}
          <span
            class="absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-xs"
          >
            <i class="fas fa-star mr-1"></i>Featured
          </span>
          {% endif %}
        </div>
        <div class="p-4">
          <h3 class="font-semibold text-lg mb-2 truncate">
            {{ product.name }}
          </h3>
          <div class="flex items-center justify-between">
            <span class="text-xl font-bold text-green-600"
              >${{ product.price }}</span
            >
            <button
              class="add-to-cart-btn bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors"
              data-product-id="{{ product.id }}"
            >
              <i class="fas fa-cart-plus mr-2"></i>Add to Cart
            </button>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-span-full text-center py-8">
        <p class="text-gray-500">
          No featured products available at the moment.
        </p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-12">Shop by Category</h2>
    <div id="categories-grid" class="grid grid-cols-2 md:grid-cols-4 gap-6">
      {% for category in categories %}
      <a
        href="{% url 'products:product-list' %}?category={{ category.id }}"
        class="category-card block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
      >
        <div class="aspect-w-16 aspect-h-9 bg-gray-200">
          {% if category.image %}
          <img
            src="{{ category.image.url }}"
            alt="{{ category.name }}"
            class="w-full h-32 object-cover"
          />
          {% else %}
          <div class="w-full h-32 bg-gray-300 flex items-center justify-center">
            <i class="fas fa-folder text-gray-400 text-2xl"></i>
          </div>
          {% endif %}
        </div>
        <div class="p-4 text-center">
          <h3 class="font-semibold text-lg">{{ category.name }}</h3>
          <p class="text-gray-600 text-sm">
            {{ category.product_count }} products
          </p>
        </div>
      </a>
      {% empty %}
      <div class="col-span-full text-center py-8">
        <p class="text-gray-500">No categories available at the moment.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
